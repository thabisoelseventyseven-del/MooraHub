@using MooraHub.Models
@{
    ViewData["Title"] = "Dashboard";
}

<div class="container my-4">

    <div class="glass-card p-4 mb-4">
        <h2 class="tech-heading mb-1">MooraHub Dashboard</h2>
        <p class="mb-0" style="opacity:.85;">Add multiple services to your cart, then go to Checkout when ready.</p>
    </div>

    <div class="row g-4">
        @foreach (var s in ServiceCatalog.Items)
        {
            <div class="col-12 col-sm-6 col-lg-3">
                <div class="feature-card p-4 h-100 text-center">
                    <div class="feature-icon">@s.Icon</div>

                    <h5 class="mb-1 fw-semibold">@s.Name</h5>

                    <!-- ✅ PRICE FIX -->
                    <div class="price-pill mx-auto mb-3">R@s.Price</div>

                    <!-- Add to cart stays on dashboard -->
                    <a class="btn btn-primary w-100 mb-2" asp-controller="Cart" asp-action="Add" asp-route-id="@s.Id">
                        Add to Cart
                    </a>

                    <!-- Buy now goes straight to checkout -->
                    <a class="btn btn-outline-primary w-100" asp-controller="Cart" asp-action="BuyNow" asp-route-id="@s.Id">
                        Buy Now
                    </a>
                </div>
            </div>
        }
    </div>

    <div class="glass-card p-4 mt-4 d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center gap-3">
        <div>
            <div class="fw-semibold">Ready to checkout?</div>
            <div style="opacity:.85;">Open Checkout from the top menu to see your cart badge and total.</div>
        </div>
        <a class="btn btn-warning fw-semibold" asp-controller="Cart" asp-action="Checkout">Go to Checkout</a>
    </div>

</div>

<style>
    .feature-card {
        border-radius: 18px;
        min-height: 260px;
        background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(244,246,249,0.95));
        transition: all 0.25s ease;
        border: 1px solid rgba(0,0,0,0.06);
        box-shadow: 0 12px 24px rgba(0,0,0,0.06);
    }

    body.dark-mode .feature-card {
        background: linear-gradient(180deg, rgba(27,27,27,0.85), rgba(18,18,18,0.85));
        border-color: rgba(255,255,255,0.08);
        box-shadow: 0 12px 26px rgba(0,0,0,0.35);
    }

    .feature-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 18px 35px rgba(0,0,0,0.18);
    }

    .feature-icon {
        font-size: 3.8rem;
        margin-bottom: 14px;
        line-height: 1;
    }

    .glass-card {
        border-radius: 18px;
        border: 1px solid rgba(255,255,255,0.12);
        background: rgba(255,255,255,0.08);
        backdrop-filter: blur(10px);
        box-shadow: 0 16px 30px rgba(0,0,0,0.10);
    }

    body:not(.dark-mode) .glass-card {
        background: rgba(255,255,255,0.78);
        border-color: rgba(0,0,0,0.06);
    }

    .price-pill {
        display: inline-block;
        padding: 6px 14px;
        border-radius: 999px;
        font-weight: 800;
        background: rgba(13,110,253,0.12);
        border: 1px solid rgba(13,110,253,0.25);
    }
</style>
